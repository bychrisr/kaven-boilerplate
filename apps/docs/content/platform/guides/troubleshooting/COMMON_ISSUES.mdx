---
title: COMMON ISSUES
description: Auto-migrated documentation
---

# Troubleshooting & Common Issues

This document records complex issues encountered during development and their robust solutions to aid future debugging.

## 1. Infinite Redirect Loop (Auth)

**Symptoms**: Browser gets stuck in a loop redirecting between `/login` and another page, eventually crashing or showing "Too many redirects".

**Cause**:
The `AuthGuard` or `middleware` logic was redirecting unauthenticated users to `/login`, but the `/login` page itself was triggering the redirection check again (false positive).

**Solution**:
Explicitly exclude public paths in the `AuthGuard`.

```typescript
// AuthGuard.tsx
const PUBLIC_PATHS = ['/login', '/register', '/forgot-password', ...];
if (PUBLIC_PATHS.some(path => pathname.includes(path))) {
    return; // Do not run auth checks
}
```

## 2. "Blank Screen" / Components Not Rendering

**Symptoms**: Application loads blank. View Source shows HTML, but React components (`<div id="root">`) are empty. No console errors, or confusing hydration errors.

**Cause**:
**Middleware Matcher Miss**. The `middleware.ts` configuration was too restrictive (`/(pt|en)/...`) and did not match the root `/login` or `/dashboard` paths requested by the browser.
Result: Next.js rendered the page without the `next-intl` context (locale was undefined/null), causing components like `AuthGuard` which rely on context to silently fail or return `null`.

**Solution**:
Update `middleware.ts` matcher to catch **everything** except API and static files.

```typescript
matcher: ['/((?!api|_next|_vercel|.*\\..*).*)'];
```

## 3. Unclickable / Frozen Inputs (TextField)

**Symptoms**: User can focus the input but typing produces no characters.

**Cause 1: Visual Overlay**
Decorative elements in `AuthLayout` (background blobs) had high blur and absolute positioning over the form, blocking pointer events.
_Fix_: Add `pointer-events-none` to decorative elements.

**Cause 2: Controlled vs Uncontrolled Mismatch**
The `TextField` component forced `value={props.value ?? ''}`. When used with `react-hook-form` (which passes `undefined` for `value` in uncontrolled mode), this forced the input to be **Controlled** with a value of `""` (empty string). React strictly enforced the empty string on every keystroke.
_Fix_: Remove the fallback. Allow `value` to be `undefined` to enable Uncontrolled mode.

## 4. Recharts "width(-1)" Warnings

**Symptoms**: Console spam: `The width(-1) and height(-1) of chart should be greater than 0`.

**Cause**:
`ResponsiveContainer` attempts to measure its parent container before the DOM layout is finalized. If the parent has no explicit height/width (or `flex` hasn't calculated yet), it reads 0.

**Solution**:
Enforce explicit dimensions on the immediate parent of `ResponsiveContainer`.

```jsx
<div style={{ width: '100%', height: '300px', minHeight: '300px' }}>
  <ResponsiveContainer ... />
</div>
```
