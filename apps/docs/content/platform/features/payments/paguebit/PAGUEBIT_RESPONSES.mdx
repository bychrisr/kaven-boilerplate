---
title: PAGUEBIT RESPONSES
description: Auto-migrated documentation
---

# PagueBit - Respostas T√©cnicas Confirmadas

**Data:** 05 de janeiro de 2026  
**Status:** ‚úÖ Respostas recebidas da equipe PagueBit

---

## ‚úÖ Respostas Confirmadas

### 1. Status de Revis√£o

**Pergunta:** Recebemos webhook com status `review`? Quanto tempo entre `review` e `not_approved`?

**Resposta:**

- ‚úÖ Recebem webhook em **todas as trocas de status**
- ‚è±Ô∏è Reembolso geralmente demora **no m√°ximo 1 hora**
- ‚ö†Ô∏è Pode levar at√© **1 dia** em casos espec√≠ficos

**Implementa√ß√£o:**

```typescript
// Webhook handler deve tratar todos os status
switch (payload.status) {
  case 'pending':
    // Aguardando pagamento
    break;
  case 'review':
    // Em an√°lise - N√ÉO confirmar ainda
    // Aguardar approved ou not_approved
    break;
  case 'approved':
    // ‚úÖ √öNICO que confirma recebimento
    break;
  case 'not_approved':
    // Rejeitado/expirado/estornado
    break;
}
```

---

### 2. Expira√ß√£o de QR Code

**Pergunta:** Ap√≥s 10 minutos, pagamento muda para `expired` ou `pending`? Se cliente pagar expirado?

**Resposta:**

- ‚úÖ Muda para `not_approved` (n√£o existe status `expired`)
- ‚úÖ Se cliente pagar QR expirado ‚Üí **√© estornado automaticamente**

**Implementa√ß√£o:**

```typescript
// Frontend: Countdown de 10 minutos
const expiresAt = new Date(Date.now() + 10 * 60 * 1000);

// Ap√≥s 10 minutos
if (Date.now() > expiresAt && payment.status === 'pending') {
  // Aguardar webhook com status 'not_approved'
  // N√£o tentar polling, QR j√° expirou
}
```

---

### 3. Cancelamento

**Pergunta:** Existe endpoint para cancelar pagamento `pending`?

**Resposta:**

- ‚ùå N√£o existe endpoint de cancelamento
- ‚úÖ Ap√≥s um tempo, pagamentos `pending` s√£o alterados para `not_approved` automaticamente
- ‚úÖ Isso acontece quando o QR Code expira (10 minutos)

**Implementa√ß√£o:**

```typescript
// N√£o precisa implementar cancelamento manual
// Sistema PagueBit cancela automaticamente ap√≥s expira√ß√£o
async function handleExpiredPayment(paymentId: string) {
  // Apenas aguardar webhook com status 'not_approved'
  // N√£o fazer nada manualmente
}
```

---

### 4. Rate Limiting

**Pergunta:** API retorna headers informativos?

**Resposta:**

- ‚ùå N√£o retorna headers de rate limit

**Implementa√ß√£o:**

```typescript
// Implementar retry com backoff exponencial
async function callPagueBitAPI(endpoint: string, data: any, retries = 3) {
  try {
    return await axios.post(endpoint, data);
  } catch (error) {
    if (error.response?.status === 429 && retries > 0) {
      const delay = Math.pow(2, 4 - retries) * 1000; // 2s, 4s, 8s
      await sleep(delay);
      return callPagueBitAPI(endpoint, data, retries - 1);
    }
    throw error;
  }
}
```

---

## üìã Resumo de Implementa√ß√£o

### ‚úÖ O Que Fazer:

1. **Webhook Handler:**
   - Tratar todos os status (pending, review, approved, not_approved)
   - Implementar idempot√™ncia (usar `X-Paguebit-Event-Id`)
   - Apenas `approved` confirma recebimento

2. **Expira√ß√£o de QR Code:**
   - Frontend: Countdown de 10 minutos
   - Ap√≥s expira√ß√£o: Aguardar webhook `not_approved`
   - N√£o tentar polling ap√≥s expira√ß√£o

3. **Cancelamento:**
   - N√£o implementar endpoint de cancelamento
   - Sistema cancela automaticamente ap√≥s 10 minutos

4. **Rate Limiting:**
   - Implementar retry com backoff exponencial
   - Limite conhecido: 300 req/min por IP
   - N√£o confiar em headers (n√£o existem)

### ‚è∏Ô∏è Aguardando Resposta:

- QR Code Est√°tico (endpoint para buscar)
- Integra√ß√£o com Loja Virtual (API de produtos)

---

## üîÑ Pr√≥ximos Passos

1. ‚úÖ Implementar webhook handler completo
2. ‚úÖ Implementar expira√ß√£o de QR Code no frontend
3. ‚úÖ Implementar retry com backoff
4. ‚è∏Ô∏è Aguardar resposta sobre Loja Virtual
5. ‚è∏Ô∏è Aguardar resposta sobre QR Est√°tico

---

**√öltima Atualiza√ß√£o:** 05/01/2026 11:23
