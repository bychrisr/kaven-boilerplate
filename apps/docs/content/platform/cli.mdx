---
title: Kaven CLI
description: Guia completo da interface de linha de comando do Kaven v2.1
date: 2026-01-23
author: Antigravity
version: 2.1.0
tags: [cli, automation, productivity, devtools, marketplace]
---

# Kaven CLI

A **Kaven CLI** Ã© o coraÃ§Ã£o da v2.1, permitindo gerenciar o ciclo de vida do seu projeto, sistema de mÃ³dulos, autenticaÃ§Ã£o e banco de dados.

## ğŸ“¦ InstalaÃ§Ã£o

A CLI jÃ¡ vem prÃ©-instalada no boilerplate. Para compilar a versÃ£o mais recente apÃ³s alteraÃ§Ãµes:

```bash
cd kaven-cli
pnpm run build
```

VocÃª pode executar os comandos usando `node kaven-cli/bin/kaven.js` ou criar um alias.

> [!TIP]
> Recomendamos adicionar `alias kaven="node $(pwd)/kaven-cli/bin/kaven.js"` ao seu `.bashrc` ou `.zshrc` para facilidade de uso.

## ğŸ” AutenticaÃ§Ã£o

O Kaven utiliza um sistema de autenticaÃ§Ã£o segura para interagir com o Marketplace e serviÃ§os da nuvem.

### `kaven auth login`

Inicia o fluxo de login via navegador (OAuth2 Device Flow).

```bash
kaven auth login
```

1. O comando exibirÃ¡ um cÃ³digo de verificaÃ§Ã£o.
2. Seu navegador abrirÃ¡ automaticamente em `https://kaven.dev/activate`.
3. Confirme o cÃ³digo para autenticar o CLI.

### `kaven auth whoami`

Exibe o usuÃ¡rio atualmente logado.

```bash
kaven auth whoami
# > Logged in as: chris@kaven.dev (Tenant: kaven-corp)
```

### `kaven auth logout`

Remove as credenciais armazenadas localmente.

```bash
kaven auth logout
```

## ğŸ›’ Marketplace de MÃ³dulos

O Marketplace permite estender seu SaaS com funcionalidades prontas (Pagamentos, IA, Analytics).

### `kaven marketplace list`

Lista todos os mÃ³dulos disponÃ­veis publicamente.

```bash
kaven marketplace list
# Ou filtrar por termo
kaven marketplace list --query pay
```

**SaÃ­da Exemplo:**

```text
ğŸ“¦ Available Modules:

payments v1.2.0 [PAID]
  Stripe & Pix full integration
observability v1.0.0 [FREE]
  Metrics & Logs stack
```

### `kaven marketplace install <slug>`

Baixa e instala um mÃ³dulo no seu projeto.

```bash
kaven marketplace install observability
```

O comando irÃ¡:

1. Verificar se vocÃª tem direito ao mÃ³dulo (Passport Gate).
2. Baixar o artefato assinado criptograficamente.
3. Verificar a assinatura (Ed25519) e integridade (SHA256).
4. Extrair para a pasta de mÃ³dulos.

#### InstalaÃ§Ã£o com Chave de LicenÃ§a

Para mÃ³dulos pagos ("PAID"), se vocÃª nÃ£o tiver uma assinatura ativa vinculada Ã  sua conta, vocÃª pode fornecer uma **License Key** diretamente:

```bash
kaven marketplace install payments --key KVN-PAY-A1B2C3D4
```

Isso Ã© Ãºtil para ambientes de CI/CD ou instalaÃ§Ãµes manuais.

## ğŸ—„ï¸ Banco de Dados (Split-Schema)

### `kaven db generate`

A ferramenta essencial para mesclar o schema base do Kaven com suas extensÃµes.

```bash
kaven db generate
```

**O que ele faz:**

- Mescla `packages/database/prisma/schema.base.prisma` (Core ImutÃ¡vel).
- Com `packages/database/prisma/schema.extended.prisma` (Suas Features).
- Gera o `schema.prisma` final e roda `prisma generate`.

> [!IMPORTANT]
> Nunca edite o arquivo `schema.prisma` diretamente. Edite o `schema.extended.prisma` e rode este comando.

## âš™ï¸ ConfiguraÃ§Ã£o (`kaven.config.json`)

O arquivo `kaven.config.json` rastreia os mÃ³dulos instalados no projeto.

```json
{
  "name": "meu-projeto",
  "version": "1.0.0",
  "modules": {
    "payments": {
      "enabled": true,
      "installedAt": "2026-01-23T10:00:00Z",
      "version": "1.2.0"
    }
  }
}
```

## ğŸ› ï¸ Troubleshooting

### Erro: "Entitlement Check Failed"

Se vocÃª receber este erro ao tentar instalar um mÃ³dulo, significa que sua conta nÃ£o possui licenÃ§a para ele.

- Verifique seu plano no dashboard.
- Ou use `--key` se tiver uma chave manual.

### Erro: "Invalid Signature"

O artefato baixado foi corrompido ou adulterado. O CLI bloqueia a instalaÃ§Ã£o automaticamente para sua seguranÃ§a. Tente novamente.

## Relacionados

- [Sistema Modular](/platform/modules)
- [Database Guide](/platform/database)
