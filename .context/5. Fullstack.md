### **Backend**

- **Linguagem e Framework Principal**: Node.js 20+ com Fastify 4.x
- **Justificativa**: Fastify é otimizado para alta performance e baixa latência, ideal para APIs RESTful. Possui excelente suporte a TypeScript, uma vasta gama de plugins (para logging, validação, segurança), e escala horizontalmente. Sua arquitetura é bem adequada para a estrutura multi-tenant e workers assíncronos mencionados no PDR. A integração com Prisma é robusta e eficiente.

### **Frontend**

- **Framework Principal**: React 18 + Vite 5.x
- **Bibliotecas Chave**: React Router DOM v6 (roteamento), TanStack Query v5 (gerenciamento de estado assíncrono/cache de API), Zustand v4 (gerenciamento de estado global síncrono), Recharts (gráficos), Socket.IO Client (comunicação em tempo real).
- **Estilização**: Tailwind CSS (atomicidade, responsividade, consistência visual), Radix UI (componentes acessíveis e primitivos).
- **Justificativa**: React é amplamente adotado e tem um ecossistema maduro. Vite oferece tempos de inicialização e rebuild extremamente rápidos. React Router é o padrão para roteamento em SPAs. TanStack Query cuida de forma eficiente do cache e sincronização de dados com a API, tratando estados de loading/error/success automaticamente. Zustand é leve e eficaz para estados globais não relacionados a API. Tailwind e Radix fornecem uma base sólida para interfaces consistentes, responsivas e acessíveis, alinhando-se à necessidade de um painel administrativo profissional e plug-and-play.

### **Banco de Dados**

- **Escolha Adequada**: PostgreSQL 15+
- **Justificativa**: É um banco de dados relacional robusto e maduro, com suporte a recursos avançados como JSONB (útil para `features` e `labels`), ACID compliance, e excelente suporte a extensões. É crucial para garantir a integridade dos dados no modelo multi-tenant. O suporte a Row-Level Security (RLS) é nativo e essencial para o isolamento de dados entre tenants, conforme exigido no PDR.

### **ORM/ODM / Tools de acesso a dados**

- **Escolha**: Prisma ORM
- **Justificativa**: Gera automaticamente tipos TypeScript a partir do schema, oferece uma API fluente e segura para consultas, suporta migrations declarativas, tem um excelente Developer Experience (DX), e inclui o Prisma Studio para visualização e debugging dos dados. É a escolha natural para um projeto em TypeScript com PostgreSQL, alinhando-se perfeitamente com a definição do PDR e o schema fornecido.

### **Autenticação/Autorização**

- **Escolha**: JWT (JSON Web Tokens) com Refresh Tokens + RLS no PostgreSQL
- **Justificativa**: JWTs são stateless e escaláveis, adequados para APIs RESTful. Refresh tokens permitem rotação segura e longa duração da sessão sem obrigar o usuário a re-autenticar constantemente. A autorização é reforçada pelo RLS no banco de dados, garantindo que um usuário só acesse dados do seu próprio tenant, como definido no PDR. Esta combinação fornece segurança robusta e escalabilidade.

### **Mensageria/Filas** (se aplicável)

- **Escolha**: Redis 7+ com BullMQ (ou Bee-Queue como alternativa leve)
- **Justificativa**: O PDR menciona explicitamente "workers assíncronos". Redis é uma escolha padrão para filas de mensagens devido à sua velocidade e confiabilidade. BullMQ é uma biblioteca poderosa para Node.js que se integra bem com Redis, oferecendo retry logic, rate limiting, prioridades e Dead Letter Queues (DLQ), alinhando-se às necessidades de processamento assíncrono e resiliência mencionadas.

### **Cache e Storage**

- **Escolha**: Redis 7+ (cache primário e rate limiting)
- **Justificativa**: Redis é ideal para armazenar sessões de usuário, cache de dados frequentes (ex: configurações de tenant) e implementar rate limiting distribuído, como exigido no PDR. Se for necessário armazenamento de arquivos (ex: logs, backups), MinIO é uma opção S3-compatível e auto-hospedável.

### **Infraestrutura**

- **Escolha**: Docker, Docker Compose (desenvolvimento e staging), Kubernetes + Helm (produção), Nginx (reverse proxy), Prometheus (métricas), Grafana (dashboards), Sentry (rastreamento de erros).
- **Justificativa**: Docker e Docker Compose facilitam a configuração e replicação de ambientes. Kubernetes oferece orquestração robusta e escalabilidade automática para produção. Nginx atua como gateway, terminando SSL e balanceando carga. A combinação Prometheus + Grafana atende diretamente ao requisito de observabilidade mínima definido no PDR (métricas `time_response_per_tenant`, `errors_per_tenant`, etc.). Sentry é essencial para monitorar e rastrear erros em tempo real, complementando a observabilidade.

### **Outras Tecnologias Críticas**

- **WebSockets**: Socket.IO (se necessário para atualizações em tempo real, embora para métricas o polling via API + TanStack Query possa ser suficiente).
- **Criptografia e Segurança**: bcrypt ou argon2 (hash de senhas), Helmet (headers de segurança HTTP), express-rate-limit (rate limiting em nível de API, complementar ao Redis), CSP headers.
- **Monitoramento e Alertas**: Configuração de alertas no Grafana baseados nas métricas definidas no PDR (ex: latência acima de X ms, taxa de erro acima de Y%). Logs estruturados (usando Pino ou Bunyan) para análise e auditoria.