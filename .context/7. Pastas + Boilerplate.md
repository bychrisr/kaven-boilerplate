## 1. Estrutura de Pastas Raiz

```bash
/kaven-boilerplate
├── backend/                          # Código-fonte do backend
│   ├── src/
│   │   ├── controllers/              # Lógica de negócio dos endpoints (handlers)
│   │   ├── routes/                   # Definição das rotas Fastify
│   │   ├── middleware/               # Middleware de autenticação, validação, logs
│   │   ├── services/                 # Lógica de negócios reutilizável
│   │   ├── workers/                  # Processos assíncronos (BullMQ)
│   │   ├── utils/                    # Funções auxiliares
│   │   ├── types/                    # Tipos globais (TypeScript)
│   │   └── app.ts                    # Ponto de entrada e configuração do Fastify
│   ├── tests/
│   │   ├── unit/                     # Testes unitários
│   │   ├── integration/              # Testes de integração
│   │   └── fixtures/                 # Dados de teste
│   ├── Dockerfile                    # Imagem Docker do backend
│   └── package.json
├── frontend/                         # Código-fonte do frontend
│   ├── public/                       # Arquivos estáticos (favicon, index.html)
│   └── src/
│       ├── components/               # Componentes reutilizáveis (botões, inputs, etc.)
│       ├── pages/                    # Páginas da aplicação (Login, Dashboard, etc.)
│       ├── layouts/                  # Layouts comuns (Sidebar, Header, etc.)
│       ├── hooks/                    # Hooks customizados (useAuth, useUsers, etc.)
│       ├── services/                 # Chamadas à API (TanStack Query, fetch)
│       ├── types/                    # Tipos TypeScript globais
│       ├── styles/                   # Arquivos de estilos globais (Tailwind, etc.)
│       ├── utils/                    # Funções auxiliares de frontend
│       ├── App.tsx                   # Componente raiz da aplicação React
│       └── main.tsx                  # Ponto de entrada do React (renderização)
│   ├── Dockerfile                    # Imagem Docker do frontend
│   └── package.json
├── prisma/                           # Configuração e migrations do Prisma
│   ├── schema.prisma                 # Definição do modelo de dados
│   ├── migrations/                   # Histórico de migrações do banco
│   └── seed.ts                       # Script para dados iniciais
├── scripts/                          # Scripts de automação e utilitários
│   ├── setup-dev.sh                  # Script de setup para ambiente de desenvolvimento
│   └── deploy.sh                     # Script de deploy (exemplo)
├── infra/                            # Configurações de infraestrutura
│   ├── docker-compose.dev.yml        # Configuração para desenvolvimento
│   ├── docker-compose.prod.yml       # Configuração para produção
│   └── k8s/                          # (Futuro) Configurações Kubernetes
├── docs/                             # Documentação do projeto
│   ├── PDR.md                        # Documento de Definição do Projeto
│   ├── API_Contracts.md              # Contratos de API
│   └── Observability_SOP.md          # Documentos de observabilidade
├── .env.example                      # Modelo de variáveis de ambiente
├── .gitignore                        # Arquivos e pastas ignorados pelo Git
├── docker-compose.yml                # Orquestração Docker Compose principal
├── README.md                         # Documentação inicial do projeto
└── setup.sh                          # Script de setup inicial do projeto
```

---

## 2. Arquivos Iniciais Boilerplate

#### 📁 `backend/src/controllers/`
- `auth.controller.ts` — Contém as funções handler para endpoints de autenticação (`POST /login`, `POST /forgot-password`).
- `user.controller.ts` — Contém as funções handler para endpoints de gestão de usuários (`GET /users`, `POST /users`, `PUT /users/:id`, `DELETE /users/:id`).
- `metric.controller.ts` — Contém as funções handler para endpoints de obtenção de métricas (`GET /metrics`).

#### 📁 `backend/src/routes/`
- `auth.routes.ts` — Define as rotas e associa aos handlers do `auth.controller`.
- `user.routes.ts` — Define as rotas e associa aos handlers do `user.controller`.
- `metric.routes.ts` — Define as rotas e associa aos handlers do `metric.controller`.

#### 📁 `backend/src/middleware/`
- `auth.middleware.ts` — Middleware para verificar a presença e validade do token JWT.
- `rateLimit.middleware.ts` — Middleware para aplicar rate limiting (pode usar biblioteca externa como `fastify-rate-limit`).
- `tenant.middleware.ts` — Middleware para extrair e validar o tenant do usuário (para RLS).

#### 📁 `backend/src/services/`
- `auth.service.ts` — Funções para hashing de senha, geração de tokens JWT, validação de credenciais.
- `user.service.ts` — Funções para operações CRUD de usuários via Prisma, validação de dados.
- `metric.service.ts` — Funções para obtenção e filtragem de métricas via Prisma.

#### 📁 `backend/src/workers/`
- `example.worker.ts` — Modelo de worker para processos assíncronos (ex: processamento de dados, envio de e-mails).
- `worker-processor.ts` — Configuração e inicialização do BullMQ.

#### 📁 `frontend/src/components/`
- `Button.tsx` — Componente de botão reutilizável com variações (primário, secundário, loading).
- `Input.tsx` — Componente de input com validação e feedback visual.
- `Card.tsx` — Componente de card genérico para layouts.
- `Sidebar.tsx` — Componente da sidebar com navegação.
- `Header.tsx` — Componente do header com perfil e notificações.

#### 📁 `frontend/src/pages/`
- `Login.tsx` — Página de login com formulário e validação.
- `ForgotPassword.tsx` — Página de recuperação de senha.
- `Dashboard.tsx` — Página principal com cards, gráficos e listas de métricas.
- `Users.tsx` — Página de listagem e gestão de usuários (tabela, modal de edição/criação).

#### 📁 `frontend/src/layouts/`
- `MainLayout.tsx` — Layout padrão com Sidebar e Header para páginas protegidas.
- `AuthLayout.tsx` — Layout simples para páginas de autenticação (login, registro).

#### 📁 `frontend/src/hooks/`
- `useAuth.ts` — Hook customizado para gerenciar estado de autenticação (login, logout, dados do usuário).
- `useUsers.ts` — Hook que encapsula as queries e mutations para gerenciamento de usuários (TanStack Query).
- `useMetrics.ts` — Hook que encapsula a query para obtenção de métricas (TanStack Query).

#### 📁 `frontend/src/services/`
- `api.ts` — Configuração base para chamadas HTTP (ex: instância do `axios` ou `fetch`).
- `auth.service.ts` — Funções para chamadas de API de autenticação (`/login`, `/me`, `/forgot-password`).
- `user.service.ts` — Funções para chamadas de API de gestão de usuários (`/users`).
- `metric.service.ts` — Funções para chamadas de API de métricas (`/metrics`).

#### 📁 `frontend/src/utils/`
- `formatDate.ts` — Função para formatar datas.
- `validateEmail.ts` — Função para validar email (pode usar Zod também).

#### 📁 `frontend/src/types/`
- `index.ts` — Tipos globais TypeScript (ex: `User`, `Metric`, `Tenant`).

#### 📄 `prisma/schema.prisma`
- `schema.prisma` — Contém a definição do modelo de dados conforme análise técnica, incluindo RLS.

#### 📄 `docker-compose.yml`
- `docker-compose.yml` — Configuração para subir PostgreSQL, Redis, Backend e Frontend localmente com Docker Compose.

#### 📄 `.env.example`
- `.env.example` — Arquivo modelo contendo as variáveis de ambiente necessárias para rodar o projeto (backend e frontend).

#### 📄 `README.md`
- `README.md` — Documentação inicial explicando o propósito do projeto, como rodar localmente, estrutura de pastas e tecnologias utilizadas.